# üéÆ –°–∞–ø–µ—Ä –û–Ω–ª–∞–π–Ω - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Appwrite

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å Appwrite

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [cloud.appwrite.io](https://cloud.appwrite.io) —ñ —Å—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å
2. –ê–±–æ —Ä–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –≤–ª–∞—Å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä Appwrite: [–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è](https://appwrite.io/docs/installation)

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç

1. –£ –∫–æ–Ω—Å–æ–ª—ñ Appwrite –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create Project"
2. –î–∞–π—Ç–µ —ñ–º'—è –ø—Ä–æ–µ–∫—Ç—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "Minesweeper Online"
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **Project ID** –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ–µ–∫—Ç—É

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö

### –°—Ç–≤–æ—Ä—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ "Databases" ‚Üí "Create Database"
2. **Database ID**: `minesweeper_db`
3. –Ü–º'—è: "Minesweeper Database"

### –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–ª–µ–∫—Ü—ñ—é `lobbies`:

1. –£ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create Collection"
2. **Collection ID**: `lobbies`
3. –Ü–º'—è: "Lobbies"

–î–æ–¥–∞–π—Ç–µ —Ç–∞–∫—ñ –∞—Ç—Ä–∏–±—É—Ç–∏:
| Attribute | Type | Size | Required | Default |
|-----------|------|------|----------|---------|
| name | string | 100 | Yes | - |
| password | string | 100 | Yes | - |
| hostId | string | 100 | Yes | - |
| hostName | string | 100 | Yes | - |
| guestId | string | 100 | No | null |
| guestName | string | 100 | No | null |
| status | string | 20 | Yes | - |
| difficulty | string | 20 | Yes | - |
| createdAt | string | 50 | Yes | - |
| gameId | string | 100 | No | null |

### –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–ª–µ–∫—Ü—ñ—é `games`:

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create Collection"
2. **Collection ID**: `games`
3. –Ü–º'—è: "Games"

–î–æ–¥–∞–π—Ç–µ —Ç–∞–∫—ñ –∞—Ç—Ä–∏–±—É—Ç–∏:
| Attribute | Type | Size | Required | Default |
|-----------|------|------|----------|---------|
| lobbyId | string | 100 | Yes | - |
| board | string | 1000000 | Yes | - |
| config | string | 500 | Yes | - |
| hostId | string | 100 | Yes | - |
| hostName | string | 100 | Yes | - |
| hostScore | integer | - | Yes | 0 |
| guestId | string | 100 | Yes | - |
| guestName | string | 100 | Yes | - |
| guestScore | integer | - | Yes | 0 |
| currentTurn | string | 100 | Yes | - |
| status | string | 20 | Yes | - |
| winnerId | string | 100 | No | null |
| minesRevealed | integer | - | Yes | 0 |
| totalMines | integer | - | Yes | - |
| lastMoveBy | string | 100 | No | null |
| lastMoveCell | string | 20 | No | null |
| spectators | string | 10000 | No | null |

## –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–æ–∑–≤–æ–ª–∏

–î–ª—è –æ–±–æ—Ö –∫–æ–ª–µ–∫—Ü—ñ–π (`lobbies` —Ç–∞ `games`):

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings ‚Üí Permissions
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Add Permission"
3. –û–±–µ—Ä—ñ—Ç—å "Any"
4. –£–≤—ñ–º–∫–Ω—ñ—Ç—å: **Create**, **Read**, **Update**, **Delete**

## –ö—Ä–æ–∫ 5: –û–Ω–æ–≤—ñ—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ –∫–æ–¥—ñ

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `src/lib/appwrite.ts` —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å:

```typescript
const APPWRITE_ENDPOINT = "https://cloud.appwrite.io/v1"; // –∞–±–æ –≤–∞—à endpoint
const APPWRITE_PROJECT_ID = "YOUR_PROJECT_ID"; // –≤–∞—à Project ID
```

## –ö—Ä–æ–∫ 6: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
npm install
npm run dev
```

## –Ø–∫ –≥—Ä–∞—Ç–∏

### –û–¥–∏–Ω–æ—á–Ω–∞ –≥—Ä–∞

- –ö–ª–∞—Å–∏—á–Ω–∏–π —Å–∞–ø–µ—Ä
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –ª—ñ–≤–æ—é –∫–Ω–æ–ø–∫–æ—é –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–ª—ñ—Ç–∏–Ω–∫–∏
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –ø—Ä–∞–≤–æ—é –∫–Ω–æ–ø–∫–æ—é –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞–ø–æ—Ä—Ü—è

### –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –ª–æ–±—ñ**:
   - –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ –ø–∞—Ä–æ–ª—å
   - –û–±–µ—Ä—ñ—Ç—å —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
   - –ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –ø–∞—Ä–æ–ª–µ–º –∑ –¥—Ä—É–≥–æ–º

2. **–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –ª–æ–±—ñ**:
   - –û–±–µ—Ä—ñ—Ç—å –ª–æ–±—ñ –∑—ñ —Å–ø–∏—Å–∫—É
   - –í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å

3. **–ü—Ä–∞–≤–∏–ª–∞ –≥—Ä–∏**:
   - –ì—Ä–∞–≤—Ü—ñ —Ö–æ–¥—è—Ç—å –ø–æ —á–µ—Ä–∑—ñ
   - –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç–µ –∫–ª—ñ—Ç–∏–Ω–∫—É - –æ—Ç—Ä–∏–º—É—î—Ç–µ –æ—á–∫–∏ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—É—Å—ñ–¥–Ω—ñ—Ö –º—ñ–Ω)
   - –Ø–∫—â–æ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –Ω–∞ –º—ñ–Ω—É - —Ö—ñ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —Å—É–ø–µ—Ä–Ω–∏–∫—É
   - –ü–µ—Ä–µ–º–∞–≥–∞—î —Ç–æ–π, —Ö—Ç–æ –Ω–∞–±—Ä–∞–≤ –±—ñ–ª—å—à–µ –æ—á–æ–∫

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Frontend**: React + TypeScript + Vite
- **Backend**: Appwrite (Database + Realtime)
- **–°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è**: CSS3 –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ appwrite.ts          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Appwrite
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ multiplayer/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MultiplayerApp.tsx   # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerNameModal.tsx  # –ú–æ–¥–∞–ª –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LobbyList.tsx        # –°–ø–∏—Å–æ–∫ –ª–æ–±—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateLobby.tsx      # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–±—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LobbyRoom.tsx        # –ö—ñ–º–Ω–∞—Ç–∞ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MultiplayerGame.tsx  # –ú—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω–∞ –≥—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ Minesweeper.tsx      # –û–¥–∏–Ω–æ—á–Ω–∞ –≥—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ GameBoard.tsx        # –Ü–≥—Ä–æ–≤–µ –ø–æ–ª–µ
‚îÇ   ‚îú‚îÄ‚îÄ Cell.tsx             # –ö–ª—ñ—Ç–∏–Ω–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ GameStatusPanel.tsx  # –ü–∞–Ω–µ–ª—å —Å—Ç–∞—Ç—É—Å—É
‚îú‚îÄ‚îÄ multiplayerTypes.ts      # –¢–∏–ø–∏ –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞
‚îú‚îÄ‚îÄ multiplayerService.ts    # –°–µ—Ä–≤—ñ—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Appwrite
‚îú‚îÄ‚îÄ gameUtils.ts             # –£—Ç–∏–ª—ñ—Ç–∏ –≥—Ä–∏
‚îú‚îÄ‚îÄ types.ts                 # –ó–∞–≥–∞–ª—å–Ω—ñ —Ç–∏–ø–∏
‚îú‚îÄ‚îÄ index.css                # –û—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∏–ª—ñ
‚îî‚îÄ‚îÄ multiplayer.css          # –°—Ç–∏–ª—ñ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞
```

## Troubleshooting

### "Document not found" –ø–æ–º–∏–ª–∫–∞

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–∑–≤–æ–ª–∏ (permissions) –∫–æ–ª–µ–∫—Ü—ñ–π

### Realtime –Ω–µ –ø—Ä–∞—Ü—é—î

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Appwrite endpoint –¥–æ—Å—Ç—É–ø–Ω–∏–π
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏ CORS

### –°—Ç–∏–ª—ñ –Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ `multiplayer.css` –≤ `App.tsx`
